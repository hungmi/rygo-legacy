<%= form_with model: [:admin, customer], local: true, class: "mb-5" do |f| %>
  <div class="row">
    <div class="offset-lg-3 col-lg-6">
      <div class="form-group <%= customer.errors[:name].present? ? 'has-danger' : '' %>">
        <%= f.label :name %>
        <%= f.text_field :name, class: "form-control #{customer.errors[:name].present? ? 'is-invalid' : ''}" %>
        <% if customer.errors[:name].present? %>
    	    <div class="invalid-feedback">
    	      <%= customer.errors[:name].join(", ") %>
    	    </div>
        <% end %>
      </div>

      <div class="form-group <%= customer.errors[:code].present? ? 'has-danger' : '' %>">
        <%= f.label :code %>
        <%= f.text_field :code, class: "form-control #{customer.errors[:code].present? ? 'is-invalid' : ''}" %>
        <small id="passwordHelpBlock" class="form-text text-muted">設定 <kbd><%= Customer.human_attribute_name(:code) %></kbd> 可避免廠商打單時看見 <kbd><%= Customer.human_attribute_name(:name) %></kbd>。</small>
        <% if customer.errors[:code].present? %>
          <div class="invalid-feedback">
            <%= customer.errors[:code].join(", ") %>
          </div>
        <% end %>
      </div>
    
      <div class="form-group <%= customer.errors[:address].present? ? 'has-danger' : '' %>">
        <%= f.label :address %>
        <%= f.text_field :address, class: "form-control #{customer.errors[:address].present? ? 'is-invalid' : ''}" %>
        <% if customer.errors[:address].present? %>
    	    <div class="invalid-feedback">
    	      <%= customer.errors[:address].join(", ") %>
    	    </div>
        <% end %>
      </div>
    
      <div class="form-group <%= customer.errors[:phone].present? ? 'has-danger' : '' %>">
        <%= f.label :phone %>
        <%= f.text_field :phone, class: "form-control #{customer.errors[:phone].present? ? 'is-invalid' : ''}" %>
        <% if customer.errors[:phone].present? %>
    	    <div class="invalid-feedback">
    	      <%= customer.errors[:phone].join(", ") %>
    	    </div>
        <% end %>
      </div>
    
      <div class="form-group <%= customer.errors[:company_name].present? ? 'has-danger' : '' %>">
        <%= f.label :company_name %>
        <%= f.text_field :company_name, class: "form-control #{customer.errors[:company_name].present? ? 'is-invalid' : ''}" %>
        <% if customer.errors[:company_name].present? %>
    	    <div class="invalid-feedback">
    	      <%= customer.errors[:company_name].join(", ") %>
    	    </div>
        <% end %>
      </div>

      <div class="form-group <%= customer.errors[:discount].present? ? 'has-danger' : '' %>">
        <%= f.label :discount %>
        <%= f.number_field :discount, class: "form-control #{customer.errors[:discount].present? ? 'is-invalid' : ''}", min: 0, max: 1, step: 0.01 %>
        <small id="passwordHelpBlock" class="form-text text-muted">請設定介於 0 ~ 1 的小數。</small>
        <small id="passwordHelpBlock" class="form-text text-muted">
          計算方式：<br>
          假設 <kbd>割引 = 0.75</kbd>，<br class="d-sm-none">則 <kbd>最終售價 = 小売価格 x ( 1 - 0.75 )</kbd>
        </small>
        <% if customer.errors[:discount].present? %>
          <div class="invalid-feedback">
            <%= customer.errors[:discount].join(", ") %>
          </div>
        <% end %>
      </div>
    
      <%= link_to I18n.t('text.cancel'), admin_customers_path, class: "btn btn-link text-danger" %>
      <%= f.submit class: "btn btn-primary float-right" %>
    </div>
  </div>
<% end %>